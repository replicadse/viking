version: "0.0"

campaigns:
  main:
    phases:
      - target:
          static: "https://jsonplaceholder.typicode.com/todos/{{ item }}" # static target
          # env: "API_URL" # load from environment variable
        threads: 4
        ends:
          requests: 500 # fixed number of requests
          #time: !s 60 # fixed duration
        timeout:
          s: 2000 # timeout per request
        report:
          interval:
            s: 1 # report interval
        spec:
          get:
            headers: {}
              # x-api-key:
              #   - env: "API_KEY"
            vars:
              item:
                increment: # increment variable per request from _start_ by _step_
                  start: 0
                  step: 1
              # item:
              #   static: 4000
        behaviors:
          ok:
            - match: ^(200)$
              mark: success
            - match: .*
              mark: error
          error:
            backoff:
              s: 1
