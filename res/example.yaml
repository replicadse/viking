version: "0.0"

campaigns:
  main:
    phases:
      - target: "https://solar-monitoring-dev.nexteraanalytics.com/v1/telemetry/sites"
        threads: 32
        # ends: !requests 2000
        ends: !seconds 60
        timeout_ms: 1000
        report:
          interval: !seconds 4
        spec: !get
          header:
            x-api-key:
              - !env "API_KEY"
          query:
            page:
              - !static 0
            per_page:
              - !static 1000
            from:
              - !static 1262304000
            to:
              - !static 1262307600
        behaviours:
          ok:
            - match: ^(200)$
              mark: !success
            - match: .*
              mark: !error
              sleep: 1000
          error: !backoff 1000
